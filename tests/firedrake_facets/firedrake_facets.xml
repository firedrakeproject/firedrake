<?xml version='1.0' encoding='utf-8'?>
<testproblem>
  <name>expressions</name>
  <!-- Basic test of firedrake facet integrals -->
  <owner userid="dham"/>
  <tags>firedrake</tags>
  <problem_definition length="short" nprocs="1">
    <command_line>true</command_line>
  </problem_definition>
  <variables>
    <variable name="external_integral" language="python">
import test_firedrake_facets as test
external_integral = test.external_integral()
    </variable>
    <variable name="internal_integral" language="python">
import test_firedrake_facets as test
internal_integral = test.internal_integral()
    </variable>
    <variable name="internal_integral_unit_tri" language="python">
import test_firedrake_facets as test
internal_integral_unit_tri = test.internal_integral_unit_tri()
    </variable>
  </variables>
  <pass_tests>
    <test name="External integral is 2." language="python"> assert abs(external_integral-2.)&lt;1.e-14</test>
    <test name="Internal integral is 1/sqrt(2.)" language="python"> assert abs(internal_integral-1./(2.**0.5))&lt;1.e-14</test>
    <test name="Internal integral on triangle is 0" language="python"> assert abs(internal_integral_unit_tri)&lt;1.e-14</test>
  </pass_tests>
  <warn_tests/>
</testproblem>
